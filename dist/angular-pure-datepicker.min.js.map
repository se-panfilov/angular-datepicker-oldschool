{"version":3,"sources":["angular-pure-datepicker.js"],"names":["xDateCore","selectedDt","startDt","endDt","x","Config","isUtc","direction","d","m","y","defaultYearsCount","daysList","monthList","CommonUtils","isValidNumber","num","isNumber","isNaN","parseFloat","isNotInfinity","isFinite","getArrayOfNumbers","start","end","this","isReverse","targetLength","arr","Array","newArr","apply","result","map","n","reverse","intArraySort","desc","a","b","DESC","sort","DataClass","model","exports","list","reloadYearsList","YearsUtils","getYearsList","reloadMonthList","MonthUtils","getMonthList","reloadDaysList","DaysUtils","getDaysList","dt","DateModel","Number","DateUtils","getDay","dow","getDayOfWeek","getMonth","getYear","tz","Date","getTimezoneOffset","getVal","method","date","call","prototype","getUTCDate","getDate","getUTCDay","getUTCFullYear","getFullYear","getUTCMonth","getDaysInMonth","month","year","isValidModel","isDateUpperStartLimit","isDateLowerEndLimit","isDateBetweenLimits","START_DAY","lastDayInMonth","State","selected","isStart","isExist","isEnd","isYearOfLowerLimit","isYearOfUpperLimit","isMonthOfLowerLimit","isMonthOfUpperLimit","isLowerLimit","isUpperLimit","setSelected","isUpperStart","isEqualStart","isLowerEnd","isEqualEnd","setStart","setEnd","setLimits","resetNow","now","START_MONTH","END_MONTH","_getLatestPossibleYear","yearsCount","selectedY","nowY","_getFirstPossibleYear","_getRangeValues","startY","endY","YEARS_COUNT","latestPossibleYear","firstPossibleYear","statement","isBoth","isBothNot","isOnlyStart","isOnlyEnd","isStartLower","isEndLower","isStartEqualEnd","isEndUpperNow","isEndEqualNow","from","to","range","angular","module","directive","restrict","replace","templateUrl","scope","ngModel","apdStart","apdEnd","apdDayId","apdMonthId","apdYearId","apdDayClasses","apdMonthClasses","apdYearClasses","apdLocalization","apdIsUtc","link","getLimitSafeDatetime","day","datetime","getTime","settings","startDateTime","endDateTime","updateModel","ngModelWatcher","stop","data","onModelChange","oldValue","getInitDateModel","initDatetime","isInitModelValid","limitSafeDatetime","_initData","initDateModel","handler","callback","$watch","value","onDaySelectChanged","onMonthSelectChanged","onYearSelectChanged","run","$templateCache","put"],"mappings":"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","file":"angular-pure-datepicker.min.js","sourcesContent":["var xDateCore = function(selectedDt, startDt, endDt) {\n  'use strict';\n\n  var x = {\n    Config: {\n      isUtc: false,\n      direction: {\n        d: 'asc',\n        m: 'asc',\n        y: 'desc'\n      },\n      defaultYearsCount: 30,\n      daysList: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n      monthList: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n    },\n\n    CommonUtils: {\n      isValidNumber: function(num) {\n        var isNumber = !isNaN(parseFloat(num));\n        var isNotInfinity = isFinite(num);\n        return isNumber && isNotInfinity;\n      },\n      getArrayOfNumbers: function(start, end) {\n        //TODO (S.Panfilov) check this in after build\n        //if (!exports.isValidNumber(start) || !exports.isValidNumber(end)) return [];\n        if (!this.isValidNumber(start) || !this.isValidNumber(end)) return [];\n\n        var isReverse = (start > end);\n        var targetLength = isReverse ? (start - end) + 1 : (end - start) + 1;\n        var arr = new Array(targetLength);\n        var newArr = Array.apply(null, arr);\n        var result = newArr.map(function(d, n) {\n          return (isReverse) ? n + end : n + start;\n        });\n\n        return (isReverse) ? result.reverse() : result;\n      },\n      intArraySort: function(arr, direction) {\n        var DESC = 'desc';\n\n        function desc(a, b) {\n          return b - a;\n        }\n\n        switch (direction) {\n          default: return arr.sort(function(a, b) {\n            return a - b;\n          });\n          case DESC:\n              return arr.sort(desc);\n        }\n      }\n    },\n\n    DataClass: function(model, start, end) {\n      var exports = {\n        list: {\n          y: null,\n          m: null,\n          d: null\n        },\n        reloadYearsList: function() {\n          exports.list.y = x.YearsUtils.getYearsList();\n        },\n        reloadMonthList: function() {\n          exports.list.m = x.MonthUtils.getMonthList();\n        },\n        reloadDaysList: function() {\n          exports.list.d = x.DaysUtils.getDaysList();\n        }\n      };\n\n      model.dt = x.CommonUtils.isValidNumber(model.dt) ? model.dt : null;\n      start = x.CommonUtils.isValidNumber(start) ? start : null;\n      end = x.CommonUtils.isValidNumber(end) ? end : null;\n\n      //x.State.setLimits(start, end);\n      //x.State.setSelected(model.dt);\n\n      exports.list.y = x.YearsUtils.getYearsList();\n      exports.list.m = x.MonthUtils.getMonthList();\n      exports.list.d = x.DaysUtils.getDaysList();\n\n      //TODO (S.Panfilov) perhaps we should watch model and limits value here and update them\n      //TODO (S.Panfilov) And perhaps rename module to \"Lists\" and move model.dt away\n\n      return exports;\n    },\n\n    DateModel:\n      (function() {\n        return function DateModel(dt) {\n          if (!dt || Number.isNaN(+dt) || !Number.isFinite(+dt)) throw 'NaN or null';\n          this.d = x.DateUtils.getDay(+dt);\n          this.dow = x.DateUtils.getDayOfWeek(+dt);\n          this.m = x.DateUtils.getMonth(+dt);\n          this.y = x.DateUtils.getYear(+dt);\n          this.dt = +dt;\n          this.tz = new Date(+dt).getTimezoneOffset();\n\n          return this;\n        };\n      })(),\n\n    DateUtils:\n      (function() {\n\n        function getVal(dt, method) {\n          var date = new Date(+dt);\n          return (date && method) ? method.call(date) : null;\n        }\n\n        var exports = {\n          getDay: function(dt) {\n            if (!dt && dt !== 0) return null;\n            var method = (x.Config.isUtc) ? Date.prototype.getUTCDate : Date.prototype.getDate;\n            return getVal(dt, method);\n          },\n          getDayOfWeek: function(dt) {\n            if (!dt && dt !== 0) return null;\n            var method = (x.Config.isUtc) ? Date.prototype.getUTCDay : Date.prototype.getDay;\n            return getVal(dt, method);\n          },\n          getYear: function(dt) {\n            if (!dt && dt !== 0) return null;\n            var method = (x.Config.isUtc) ? Date.prototype.getUTCFullYear : Date.prototype.getFullYear;\n            return getVal(dt, method);\n          },\n          getMonth: function(dt) {\n            if (!dt && dt !== 0) return null;\n            var method = (x.Config.isUtc) ? Date.prototype.getUTCMonth : Date.prototype.getMonth;\n            return getVal(dt, method);\n          },\n          getDaysInMonth: function(month, year) {\n            var method = (x.Config.isUtc) ? Date.prototype.getUTCDate : Date.prototype.getDate;\n            return method.call(new Date(+year, (+month) + 1, 0));\n          },\n          isValidModel: function(model) {\n            return !!model && (!!model.dt || model.dt === 0) && !Number.isNaN(+model.dt) && Number.isFinite(+model.dt);\n          },\n          isDateUpperStartLimit: function(dt, start) {\n            if (!start) return true;\n            if ((!dt && dt !== 0) || Number.isNaN(+dt) || Number.isNaN(+start)) throw 'NaN or null';\n            return (+dt > +start);\n          },\n          isDateLowerEndLimit: function(dt, end) {\n            if (!end) return true;\n            if (Number.isNaN(+dt) || Number.isNaN(+end)) throw 'NaN or null';\n            return (+dt < +end);\n          },\n          isDateBetweenLimits: function(dt, start, end) {\n            return (exports.isDateUpperStartLimit(dt, start) && exports.isDateLowerEndLimit(dt, end));\n          }\n        };\n\n\n        return exports;\n      })(),\n\n    DaysUtils: {\n      getDaysList: function() {\n        var result;\n        var START_DAY = 1;\n\n        var lastDayInMonth = x.DateUtils.getDaysInMonth(x.State.selected.y, x.State.selected.y);\n\n        var isStart = x.State.start.isExist;\n        var isEnd = x.State.end.isExist;\n\n        if (isStart || isEnd) {\n          var isYearOfLowerLimit = (isStart) ? x.State.start.y === x.State.selected.y : false;\n          var isYearOfUpperLimit = (isEnd) ? x.State.end.y === x.State.selected.y : false;\n          var isMonthOfLowerLimit = (isStart) ? x.State.start.m === x.State.selected.y : false;\n          var isMonthOfUpperLimit = (isEnd) ? x.State.end.m === x.State.selected.y : false;\n\n          var isLowerLimit = (isYearOfLowerLimit && isMonthOfLowerLimit);\n          var isUpperLimit = (isYearOfUpperLimit && isMonthOfUpperLimit);\n\n          var start = (isStart) ? x.State.start.d : START_DAY;\n          var end = (isEnd) ? x.State.end.d : lastDayInMonth;\n\n          if (isLowerLimit && isUpperLimit) {\n            result = x.CommonUtils.getArrayOfNumbers(start, end);\n          } else if (isLowerLimit && !isUpperLimit) {\n            result = x.CommonUtils.getArrayOfNumbers(start, lastDayInMonth);\n          } else if (!isLowerLimit && isUpperLimit) {\n            result = x.CommonUtils.getArrayOfNumbers(START_DAY, end);\n          } else { // in all other cases return array of 12 month\n            result = x.CommonUtils.getArrayOfNumbers(START_DAY, lastDayInMonth);\n          }\n        } else { // in all other cases return array of 12 month\n          result = x.CommonUtils.getArrayOfNumbers(START_DAY, lastDayInMonth);\n        }\n\n        return x.CommonUtils.intArraySort(result, x.Config.direction.d);\n      }\n    },\n\n    State: {\n      selected: {}, //TODO (S.Panfilov) refactor selected\n      setSelected: function(dt) {\n        var result;\n\n        var isUpperStart = (dt > this.start.dt);\n        var isEqualStart = (dt === this.start.dt);\n        var isLowerEnd = (dt > this.end.dt);\n        var isEqualEnd = (dt === this.end.dt);\n\n        //start == 1; model == 1 or 2 or 3; end == 3;\n        if ((isUpperStart || isEqualStart) || (isLowerEnd || isEqualEnd)) {\n          result = new x.DateModel(dt);\n        } else if (!isUpperStart) { //start == 1; model == 0\n          result = new x.DateModel(this.start);\n        } else if (!isUpperStart) { //model == 4; end == 3;\n          result = new x.DateModel(this.end.dt);\n        } else { //paranoid case\n          result = new x.DateModel(+(new Date()));\n        }\n\n        this.selected = result;\n      },\n      start: {},\n      setStart: function(dt) {\n        this.start = new x.DateModel(dt);\n        this.start.isExist = true;\n      },\n      end: {},\n      setEnd: function(dt) {\n        this.end = new x.DateModel(dt);\n        this.end.isExist = true;\n      },\n      setLimits: function(start, end) {\n        this.setStart(start);\n        this.setEnd(end);\n      },\n      resetNow: function() {\n        this.now = new x.DateModel(+(new Date()));\n      },\n      now: null // new x.DateModel(+(new Date())) //TODO (S.Panfilov) FIX it - x is undefined\n    },\n\n    MonthUtils: {\n      getMonthList: function() {\n        var result;\n        var START_MONTH = 0;\n        var END_MONTH = 11;\n\n        var isStart = x.State.start.isExist;\n        var isEnd = x.State.end.isExist;\n\n        if (isStart || isEnd) {\n          var isYearOfLowerLimit = (isStart) ? x.State.start.y === x.State.selected.y : false;\n          var isYearOfUpperLimit = (isEnd) ? x.State.end.y === x.State.selected.y : false;\n          var start = (isStart) ? x.State.start.m : START_MONTH;\n          var end = (isEnd) ? x.State.end.m : END_MONTH;\n\n          // startYear == 2015, nowYear == 2015, endYear == 2015\n          if (isYearOfLowerLimit && isYearOfUpperLimit) {\n            result = x.CommonUtils.getArrayOfNumbers(start, end);\n          } else if (isYearOfLowerLimit && !isYearOfUpperLimit) { // startYear == 2015, nowYear == 2015, endYear == 2016 (or null)\n            result = x.CommonUtils.getArrayOfNumbers(start, END_MONTH);\n          } else if (!isYearOfLowerLimit && isYearOfUpperLimit) { // startYear == 2014 (or null), nowYear == 2015, endYear == 2015\n            result = x.CommonUtils.getArrayOfNumbers(START_MONTH, end);\n          } else { // in all other cases return array of 12 month\n            result = x.CommonUtils.getArrayOfNumbers(START_MONTH, END_MONTH);\n          }\n        } else { // in all other cases return array of 12 month\n          result = x.CommonUtils.getArrayOfNumbers(START_MONTH, END_MONTH);\n        }\n\n        return x.CommonUtils.intArraySort(result, x.Config.direction.m);\n      }\n    },\n\n    YearsUtils:\n      (function() {\n\n        function _getLatestPossibleYear(yearsCount, selectedY, nowY) {\n          var result = (selectedY > nowY) ? selectedY : nowY;\n          result += (yearsCount - 1);\n          return result;\n        }\n\n        function _getFirstPossibleYear(yearsCount, selectedY, nowY) {\n          var result = (selectedY < nowY) ? selectedY : nowY;\n          result -= (yearsCount - 1);\n          return result;\n        }\n\n        function _getRangeValues(selectedY, startY, endY, nowY) {\n\n          var YEARS_COUNT = x.Config.defaultYearsCount;\n          var latestPossibleYear = _getLatestPossibleYear(YEARS_COUNT, selectedY, nowY);\n          var firstPossibleYear = _getFirstPossibleYear(YEARS_COUNT, selectedY, nowY);\n\n          var statement = {\n            isBoth: !!(startY && endY),\n            isBothNot: !!(!startY && !endY),\n            isOnlyStart: !!(startY && !endY),\n            isOnlyEnd: !!(!startY && endY),\n            isStartLower: (startY < endY),\n            isEndLower: (startY > endY),\n            isStartEqualEnd: (startY === endY),\n            isEndUpperNow: (endY > nowY),\n            isEndEqualNow: (endY === nowY)\n          };\n\n          //start = 2011, end = 2014\n          if (statement.isBoth && statement.isStartLower) {\n            return {\n              from: startY,\n              to: endY\n            };\n          }\n\n          //start = 2014, end = 2011\n          if (statement.isBoth && statement.isEndLower) {\n            return {\n              from: endY,\n              to: startY\n            };\n          }\n\n          //start = 2011, end = 2011\n          if (statement.isBoth && statement.isStartEqualEnd) {\n            return {\n              from: startY,\n              to: endY\n            };\n          }\n\n          //start = 2014, end = null\n          if (statement.isOnlyStart) {\n            return {\n              from: startY,\n              to: latestPossibleYear\n            };\n          }\n\n          //start = null, end = 2014\n          if (statement.isOnlyEnd) {\n            //start = null, now = 2013 (or 2014), end = 2014\n            if (statement.isEndUpperNow || statement.isEndEqualNow) {\n              //TODO (S.Panfilov) wtf? I cannot remember wtf this statement check\n              if ((firstPossibleYear - YEARS_COUNT) > (endY - YEARS_COUNT)) {\n                return {\n                  from: firstPossibleYear,\n                  to: endY\n                };\n              } else {\n                return {\n                  from: endY - (YEARS_COUNT - 1),\n                  to: endY\n                };\n              }\n            }\n\n            //start = null, now = 2015,  end = 2014\n            if (!statement.isEndUpperNow) {\n              return {\n                from: endY - (YEARS_COUNT - 1),\n                to: endY\n              };\n            }\n          }\n\n          //start = null, end = null\n          if (statement.isBothNot) {\n            return {\n              from: firstPossibleYear,\n              to: latestPossibleYear\n            };\n          }\n        }\n\n        var exports = {\n          getYearsList: function() {\n            var range = _getRangeValues(x.State.selected.y, x.State.start.y, x.State.end.y, x.State.now.y);\n            var result = x.CommonUtils.getArrayOfNumbers(range.from, range.to);\n\n            return x.CommonUtils.intArraySort(result, x.Config.direction.y);\n          }\n        };\n\n\n        return exports;\n      })()\n  };\n  x.State.resetNow();\n  x.State.setLimits(startDt, endDt);\n  x.State.setSelected(selectedDt);\n  return x;\n};\n'use strict';\n\nangular.module('angular-pd', [\n      'angular-pd.templates'\n    ])\n\n    .directive('pureDatepicker', function () {\n      return {\n        restrict: 'E',\n        replace: true,\n        templateUrl: 'apd.html',\n        scope: {\n          ngModel: '=',\n          apdStart: '=?',\n          apdEnd: '=?',\n          apdDayId: '@?',\n          apdMonthId: '@?',\n          apdYearId: '@?',\n          apdDayClasses: '@?',\n          apdMonthClasses: '@?',\n          apdYearClasses: '@?',\n          apdLocalization: '=?',\n          apdIsUtc: '=?'\n        },\n        link: function (scope) {\n          scope.apdIsUtc = scope.apdIsUtc || false;\n\n          var x = new xDateCore(new Date(2015, 6, 26).getTime(), new Date(2015, 5, 2).getTime(), new Date(2015, 7, 30).getTime())\n\n          debugger;\n\n          //TODO (S.Panfilov) check for cross-browser support\n          //TODO (S.Panfilov) should add tests probably\n          var settings = {\n            initDateModel: null,\n            startDateTime: null,\n            endDateTime: null\n          };\n\n          var ngModelWatcher = {\n            handler: null,\n            start: function (callback) {\n              ngModelWatcher.handler = scope.$watch('ngModel.dt', function (value, oldValue) {\n                if (callback) {\n                  callback(value, oldValue)\n                }\n\n              }, true);\n            },\n            stop: function () {\n              ngModelWatcher.handler();\n              return true;\n            }\n          };\n\n\n          function getLimitSafeDatetime(day, month, year) {\n\n            var datetime = new Date(year, month, day).getTime();\n\n            if (!DateUtils.isDateBetweenLimits(datetime, settings.startDateTime, settings.endDateTime)) {\n              if (!DateUtils.isDateUpperStartLimit(datetime, settings.startDateTime)) {\n                datetime = settings.startDateTime;\n              } else if (!DateUtils.isDateLowerEndLimit(datetime, settings.endDateTime)) {\n                datetime = settings.endDateTime;\n              }\n            }\n\n            return datetime;\n          }\n\n          function updateModel(datetime) {\n            ngModelWatcher.stop();\n            scope.data.selected = new DateModel(datetime);\n            scope.ngModel = scope.data.selected;\n            ngModelWatcher.start(onModelChange);\n          }\n\n          function onModelChange(datetime, oldValue) {\n            if (datetime === oldValue) {\n              return;\n            }\n\n            var day = DateUtils.getDay(datetime);\n            var month = DateUtils.getMonth(datetime);\n            var year = DateUtils.getYear(datetime);\n\n            datetime = getLimitSafeDatetime(day, month, year);\n            updateModel(datetime);\n\n            scope.data.reloadYearsList();\n            scope.data.reloadMonthList();\n            scope.data.reloadDaysList();\n          }\n\n          function getInitDateModel(model) {\n            var isInitModelValid = DateUtils.isValidModel(model);\n            var initDatetime;\n\n            if (isInitModelValid) {\n              initDatetime = model.dt\n            } else {\n              initDatetime = new Date().getTime();\n            }\n\n            var day = DateUtils.getDay(initDatetime);\n            var month = DateUtils.getMonth(initDatetime);\n            var year = DateUtils.getYear(initDatetime);\n\n            var limitSafeDatetime = getLimitSafeDatetime(day, month, year);\n\n            return new DateModel(limitSafeDatetime);\n          }\n\n          function _initData(initDateModel, startDateTime, endDateTime) {\n            scope.data = new DataClass(initDateModel, startDateTime, endDateTime);\n            scope.ngModel = scope.data.selected;\n          }\n\n\n          scope.onDaySelectChanged = function (day) {\n            if (!day) return;\n\n            var datetime = getLimitSafeDatetime(scope.data.selected.d, scope.data.selected.m, scope.data.selected.y);\n            updateModel(datetime);\n          };\n\n          scope.onMonthSelectChanged = function (month) {\n            if (!month && month !== 0) return;\n\n            var datetime;\n            var year = scope.data.selected.y;\n            var day = scope.data.selected.d;\n\n            datetime = getLimitSafeDatetime(day, month, year);\n            updateModel(datetime);\n\n            scope.data.reloadDaysList();\n          };\n\n          scope.onYearSelectChanged = function (year) {\n            if (!year && year !== 0) return;\n\n            var month = scope.data.selected.m;\n            var day = scope.data.selected.d;\n\n            var datetime = getLimitSafeDatetime(day, month, year);\n            updateModel(datetime);\n\n            scope.data.reloadMonthList();\n            scope.data.reloadDaysList();\n          };\n\n          (function _init() {\n            settings.startDateTime = (scope.apdStart) ? +scope.apdStart : null;\n            settings.endDateTime = (scope.apdEnd) ? +scope.apdEnd : null;\n            settings.initDateModel = getInitDateModel(scope.ngModel);\n            _initData(settings.initDateModel, settings.startDateTime, settings.endDateTime);\n\n            scope.daysList = (scope.apdLocalization && scope.apdLocalization.daysList) ? scope.apdLocalization.daysList : Config.daysList;\n            scope.monthList = (scope.apdLocalization && scope.apdLocalization.monthList) ? scope.apdLocalization.monthList : Config.monthList;\n\n            ngModelWatcher.start(onModelChange);\n          })();\n\n        }\n      }\n    });\nangular.module(\"angular-pd.templates\", []).run([\"$templateCache\", function($templateCache) {$templateCache.put(\"apd.html\",\"<div class=apd_root><select ng-model=data.selected.d ng-options=\\\"day for day in data.list.d\\\" ng-init=\\\"data.selected.d = data.list.d[0]\\\" ng-change=onDaySelectChanged(data.selected.d) id={{::apdDayId}} class=\\\"apd_elem apd_select_day apd_select {{::apdDayClasses}}\\\"></select><span ng-bind=daysList[data.selected.dow] class=\\\"apd_elem apd_day_of_week\\\"></span><select ng-model=data.selected.m ng-options=\\\"monthList[month] for month in data.list.m\\\" ng-init=\\\"data.selected.m = data.list.m[0]\\\" ng-change=onMonthSelectChanged(data.selected.m) id={{::apdMonthId}} class=\\\"apd_elem apd_select_month apd_select {{::apdMonthClasses}}\\\"></select><select ng-model=data.selected.y ng-options=\\\"year for year in data.list.y\\\" ng-init=\\\"data.selected.y = data.list.y[0]\\\" ng-change=onYearSelectChanged(data.selected.y) id={{::apdYearId}} class=\\\"apd_elem apd_select_year apd_select {{::apdYearClasses}}\\\"></select></div>\");}]);"],"sourceRoot":"/source/"}