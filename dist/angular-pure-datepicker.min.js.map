{"version":3,"sources":["angular-pure-datepicker.js"],"names":["Config","isUtc","monthDirection","daysDirection","yearsDirection","daysList","monthList","CommonUtils","t","isValidNumber","e","isNaN","r","isFinite","getArrayOfNumbers","n","push","intArraySort","sort","getIntArr","_getIntArr","concat","DateUtils","Date","call","getDay","isUTC","prototype","getUTCDate","getDate","getDayOfWeek","getUTCDay","getYear","getUTCFullYear","getFullYear","getMonth","getUTCMonth","getDaysInMonth","isValidModel","dt","isDateUpperStartLimit","isDateLowerEndLimit","isDateBetweenLimits","LimitsModel","s","start","d","m","y","this","i","end","a","getTime","now","DateModel","dow","tz","getTimezoneOffset","YearsUtils","getYearsList","o","u","l","g","f","c","yearsListDirection","MonthUtils","getMonthList","monthListDirection","DaysUtils","getDaysList","D","h","U","daysListDirection","DataClass","_start","_end","_limitDates","selected","list","reloadYearsList","reloadMonthList","reloadDaysList","angularView","angular","module","directive","restrict","replace","templateUrl","scope","ngModel","apdStart","apdEnd","apdDayId","apdMonthId","apdYearId","apdDayClasses","apdMonthClasses","apdYearClasses","apdLocalization","apdIsUtc","link","getLimitSafeDatetime","day","month","year","datetime","settings","startDateTime","endDateTime","updateModel","ngModelWatcher","stop","data","onModelChange","oldValue","getInitDateModel","model","initDatetime","isInitModelValid","limitSafeDatetime","_initData","initDateModel","handler","callback","$watch","value","onDaySelectChanged","onMonthSelectChanged","onYearSelectChanged","run","$templateCache","put"],"mappings":"AAAA,YAAa,IAAIA,SAAQC,OAAM,EAAGC,eAAe,MAAMC,cAAc,MAAMC,eAAe,OAAOC,UAAU,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,OAAOC,WAAW,UAAU,WAAW,QAAQ,QAAQ,MAAM,OAAO,OAAO,SAAS,YAAY,UAAU,WAAW,aAAaC,YAAY,WAAW,GAAIC,IAAGC,cAAc,SAASD,GAAG,GAAIE,IAAGC,MAAMH,GAAGI,EAAEC,SAASL,EAAG,OAAOE,IAAGE,GAAGE,kBAAkB,SAASN,EAAEE,GAAG,IAAI,GAAIE,MAAKG,EAAEP,EAAEE,GAAGK,EAAEA,IAAIH,EAAEI,KAAKD,EAAG,OAAOH,IAAGK,aAAa,SAAST,EAAEE,GAAG,QAASE,GAAEJ,EAAEE,GAAG,MAAOA,GAAEF,EAAE,OAAOE,GAAG,QAAQ,MAAOF,GAAEU,KAAK,SAASV,EAAEE,GAAG,MAAOF,GAAEE,GAAI,KAAI,OAAO,MAAOF,GAAEU,KAAKN,KAAKO,UAAU,SAAST,GAAG,MAAOA,IAAG,IAAIA,EAAEA,EAAEF,EAAEY,WAAWV,EAAE,GAAGW,OAAOX,MAAM,QAAS,OAAOF,MAAKc,UAAU,SAASd,GAAG,QAASE,GAAEF,EAAEE,GAAG,GAAIE,GAAE,GAAIW,MAAKf,EAAG,OAAOE,GAAEc,KAAKZ,GAAG,GAAIA,IAAGa,OAAO,SAASb,GAAG,GAAIG,GAAEP,EAAEkB,MAAMH,KAAKI,UAAUC,WAAWL,KAAKI,UAAUE,OAAQ,OAAOnB,GAAEE,EAAEG,IAAIe,aAAa,SAASlB,GAAG,GAAIG,GAAEP,EAAEkB,MAAMH,KAAKI,UAAUI,UAAUR,KAAKI,UAAUF,MAAO,OAAOf,GAAEE,EAAEG,IAAIiB,QAAQ,SAASpB,GAAG,GAAIG,GAAEP,EAAEkB,MAAMH,KAAKI,UAAUM,eAAeV,KAAKI,UAAUO,WAAY,OAAOxB,GAAEE,EAAEG,IAAIoB,SAAS,SAASvB,GAAG,GAAIG,GAAEP,EAAEkB,MAAMH,KAAKI,UAAUS,YAAYb,KAAKI,UAAUQ,QAAS,OAAOzB,GAAEE,EAAEG,IAAIsB,eAAe,SAAS3B,EAAEE,GAAG,GAAIG,GAAEP,EAAEkB,MAAMH,KAAKI,UAAUC,WAAWL,KAAKI,UAAUE,OAAQ,OAAOd,GAAES,KAAK,GAAID,MAAKX,EAAEF,EAAE,EAAE,KAAK4B,aAAa,SAAS9B,GAAG,SAASA,IAAIA,EAAE+B,IAAI,IAAI/B,EAAE+B,KAAKC,sBAAsB,SAAShC,EAAEE,GAAG,MAAOA,GAAEF,EAAEE,GAAE,GAAI+B,oBAAoB,SAASjC,EAAEE,GAAG,MAAOA,GAAEA,EAAEF,GAAE,GAAIkC,oBAAoB,SAASlC,EAAEE,EAAEK,GAAG,MAAOH,GAAE4B,sBAAsBhC,EAAEE,IAAIE,EAAE6B,oBAAoBjC,EAAEO,IAAK,OAAOH,IAAGZ,QAAQ2C,YAAY,SAASnC,GAAG,QAASE,GAAEA,EAAEE,GAAG,QAASG,GAAEL,GAAG,MAAOkC,GAAEC,MAAMC,EAAEtC,EAAEiB,OAAOf,GAAGkC,EAAEC,MAAME,EAAEvC,EAAE2B,SAASzB,GAAGkC,EAAEC,MAAMG,EAAExC,EAAEwB,QAAQtB,GAAGkC,EAAEC,MAAMN,GAAG7B,EAAEuC,KAAK,QAASC,GAAExC,GAAG,MAAOkC,GAAEO,IAAIL,EAAEtC,EAAEiB,OAAOf,GAAGkC,EAAEO,IAAIJ,EAAEvC,EAAE2B,SAASzB,GAAGkC,EAAEO,IAAIH,EAAExC,EAAEwB,QAAQtB,GAAGkC,EAAEO,IAAIZ,GAAG7B,EAAEuC,KAAK,QAASG,KAAI,GAAI1C,IAAE,GAAKa,OAAM8B,SAAU,OAAOT,GAAEU,IAAIR,EAAEtC,EAAEiB,OAAOf,GAAGkC,EAAEU,IAAIP,EAAEvC,EAAE2B,SAASzB,GAAGkC,EAAEU,IAAIN,EAAExC,EAAEwB,QAAQtB,GAAGkC,EAAEU,IAAIf,GAAG7B,EAAEuC,KAAK,GAAIL,IAAGC,SAASM,OAAOG,OAAQ,OAAOvC,GAAEL,GAAGwC,EAAEtC,GAAGwC,IAAIR,EAAE,MAAOlC,IAAGY,WAAWiC,UAAU,SAAS/C,GAAG,QAASE,GAAEA,GAAG,MAAOuC,MAAKH,EAAEtC,EAAEiB,OAAOf,GAAGuC,KAAKO,IAAIhD,EAAEsB,aAAapB,GAAGuC,KAAKF,EAAEvC,EAAE2B,SAASzB,GAAGuC,KAAKD,EAAExC,EAAEwB,QAAQtB,GAAGuC,KAAKV,GAAG7B,EAAEuC,KAAKQ,GAAG,GAAIlC,MAAKb,GAAGgD,oBAAoBT,KAAK,MAAOvC,IAAGY,WAAWqC,WAAW,SAASnD,EAAEE,EAAEE,GAAG,GAAIG,IAAG6C,aAAa,SAAS7C,EAAEmC,EAAEE,EAAER,GAAG,GAAIiB,MAAKC,EAAE,GAAGC,EAAEnB,EAAEC,MAAMG,EAAEF,EAAEF,EAAEO,IAAIH,EAAEA,EAAEJ,EAAEU,IAAIN,EAAEgB,EAAExD,EAAEwB,QAAQoB,EAAEb,IAAI0B,EAAED,EAAEhB,EAAEgB,EAAEhB,EAAEkB,EAAElB,EAAEgB,EAAEA,EAAEhB,CAAE,OAAOiB,IAAGH,EAAE,EAAEI,GAAGJ,EAAE,EAAE/C,GAAGmC,GAAGA,EAAEnC,EAAE8C,EAAEnD,EAAEI,kBAAkBiD,EAAEjB,GAAG/B,GAAGmC,GAAGnC,EAAEmC,EAAEW,EAAEnD,EAAEI,kBAAkBgC,EAAEiB,GAAGhD,GAAGmC,GAAGnC,IAAImC,EAAEW,EAAEnD,EAAEI,kBAAkBiD,EAAEjB,GAAG/B,IAAImC,EAAEW,EAAEnD,EAAEI,kBAAkBiD,EAAEE,IAAIlD,GAAGmC,EAAEN,EAAEO,IAAIH,GAAGJ,EAAEU,IAAIN,EAAEa,EAAEK,EAAEJ,EAAEhB,EAAEgB,EAAEpD,EAAEI,kBAAkBoD,EAAEpB,GAAGpC,EAAEI,kBAAkBgC,GAAGgB,EAAE,GAAGhB,GAAGF,EAAEO,IAAIH,EAAEJ,EAAEU,IAAIN,IAAIa,EAAEnD,EAAEI,kBAAkBgC,GAAGgB,EAAE,GAAGhB,IAAI/B,GAAGmC,IAAIW,EAAEnD,EAAEI,kBAAkBoD,EAAED,IAAIvD,EAAEO,aAAa4C,EAAEjD,EAAEuD,qBAAsB,OAAOpD,IAAGO,UAAUf,YAAYP,QAAQoE,WAAW,SAAS5D,EAAEE,EAAEE,EAAEG,GAAG,GAAImC,IAAGmB,aAAa,SAAS3D,EAAEwC,EAAEE,GAAG,GAAIR,GAAEiB,EAAE,EAAEC,EAAE,EAAG,IAAGpD,GAAGwC,EAAE,CAAC,GAAIa,GAAErD,EAAEF,EAAEqC,MAAMG,IAAII,GAAE,EAAGN,EAAEI,EAAE1C,EAAE2C,IAAIH,IAAII,GAAE,EAAGJ,EAAEtC,EAAEF,EAAEqC,MAAME,EAAEc,EAAEG,EAAEd,EAAE1C,EAAE2C,IAAIJ,EAAEe,CAAElB,GAAEmB,GAAGjB,EAAElC,EAAEE,kBAAkBkC,EAAEgB,GAAGD,IAAIjB,EAAElC,EAAEE,kBAAkBkC,EAAEc,IAAIC,GAAGjB,EAAElC,EAAEE,kBAAkB+C,EAAEG,GAAGpD,EAAEE,kBAAkB+C,EAAEC,OAAQlB,GAAEhC,EAAEE,kBAAkB+C,EAAEC,EAAG,OAAOlD,GAAEK,aAAa2B,EAAE7B,EAAEuD,qBAAsB,OAAOpB,IAAGP,YAAYrB,UAAUf,YAAYP,QAAQuE,UAAU,SAAS/D,EAAEE,EAAEE,EAAEG,GAAG,GAAImC,IAAGsB,YAAY,SAAStB,EAAEE,EAAER,EAAEiB,GAAG,GAAIC,GAAEC,EAAE,EAAEjB,EAAEpC,EAAE2B,eAAewB,EAAEjB,EAAG,IAAGM,GAAGE,EAAE,CAAC,GAAIJ,GAAEE,EAAE1C,EAAEqC,MAAMG,IAAIJ,GAAE,EAAGoB,EAAEZ,EAAE5C,EAAE2C,IAAIH,IAAIJ,GAAE,EAAGqB,EAAEf,EAAE1C,EAAEqC,MAAME,IAAIc,GAAE,EAAGK,EAAEd,EAAE5C,EAAE2C,IAAIJ,IAAIc,GAAE,EAAGd,EAAEC,GAAGiB,EAAEQ,EAAET,GAAGE,EAAEQ,EAAExB,EAAE1C,EAAEqC,MAAMC,EAAEiB,EAAEY,EAAEvB,EAAE5C,EAAE2C,IAAIL,EAAEA,CAAEgB,GAAEf,GAAG0B,EAAE7D,EAAEE,kBAAkB4D,EAAEC,GAAG5B,IAAI0B,EAAE7D,EAAEE,kBAAkB4D,EAAE5B,IAAIC,GAAG0B,EAAE7D,EAAEE,kBAAkBiD,EAAEY,GAAG/D,EAAEE,kBAAkBiD,EAAEjB,OAAQgB,GAAElD,EAAEE,kBAAkBiD,EAAEjB,EAAG,OAAOlC,GAAEK,aAAa6C,EAAE/C,EAAE6D,oBAAqB,OAAO1B,IAAGP,YAAYrB,UAAUf,YAAYP,QAAQ6E,UAAU,SAASrE,EAAEE,EAAEE,EAAEG,EAAEmC,EAAEE,GAAG,QAASR,GAAEpC,EAAEE,EAAEE,GAAG,GAAIG,GAAEmC,EAAE1C,EAAE+B,GAAG7B,EAAEkC,EAAEpC,EAAE+B,KAAK7B,EAAEmD,EAAErD,EAAE+B,GAAG3B,EAAEkD,EAAEtD,EAAE+B,KAAK3B,CAAE,OAAOG,GAAE,GAAIqC,GAAEF,GAAGN,GAAGiB,GAAGC,EAAEtD,EAAE+B,GAAGW,EAAEA,GAAE,GAAK3B,OAAM8B,UAAUzC,EAAEF,GAAG,MAAO,UAAS0C,EAAES,EAAEC,GAAG,GAAIC,IAAGe,OAAO,KAAKC,KAAK,KAAKC,YAAY,MAAMlC,GAAGmC,YAAYC,MAAMlC,EAAE,KAAKD,EAAE,KAAKD,EAAE,MAAMqC,gBAAgB,WAAW,MAAOrC,GAAEoC,KAAKlC,EAAEpC,EAAEgD,aAAaG,EAAEe,OAAOf,EAAEgB,MAAM9B,MAAMmC,gBAAgB,WAAW,GAAI1E,GAAEF,EAAEwB,QAAQc,EAAEmC,SAAS1C,GAAI,OAAOO,GAAEoC,KAAKnC,EAAEhC,EAAEsD,aAAaN,EAAEe,OAAOf,EAAEgB,KAAKrE,GAAGuC,MAAMoC,eAAe,WAAW,GAAI3E,GAAEF,EAAEwB,QAAQc,EAAEmC,SAAS1C,IAAI3B,EAAEJ,EAAE2B,SAASW,EAAEmC,SAAS1C,GAAI,OAAOO,GAAEoC,KAAKpC,EAAEI,EAAEsB,YAAYT,EAAEe,OAAOf,EAAEgB,KAAKrE,EAAEE,GAAGqC,MAAOG,GAAEb,GAAG7B,EAAED,cAAc2C,EAAEb,IAAIa,EAAEb,GAAG,KAAKsB,EAAEnD,EAAED,cAAcoD,GAAGA,EAAE,KAAKC,EAAEpD,EAAED,cAAcqD,GAAGA,EAAE,KAAKhB,EAAEmC,SAASrC,EAAEQ,EAAES,EAAEC,EAAG,IAAId,GAAExC,EAAEwB,QAAQc,EAAEmC,SAAS1C,IAAIyB,EAAExD,EAAE2B,SAASW,EAAEmC,SAAS1C,GAAI,OAAOwB,GAAEiB,YAAY,GAAIrC,aAAYkB,EAAEC,GAAGC,EAAEe,OAAOjB,EAAEE,EAAEgB,KAAKjB,EAAEhB,EAAEoC,KAAKlC,EAAEpC,EAAEgD,aAAaC,EAAEC,EAAEhB,EAAEmC,SAASlB,EAAEiB,aAAalC,EAAEoC,KAAKnC,EAAEhC,EAAEsD,aAAaR,EAAEC,EAAEd,EAAEe,EAAEiB,aAAalC,EAAEoC,KAAKpC,EAAEI,EAAEsB,YAAYX,EAAEC,EAAEd,EAAEgB,EAAElB,EAAEmC,SAASlB,EAAEiB,aAAalC,IAAIxB,UAAUf,YAAYoD,WAAWS,WAAWG,UAAUhB,WAEnpJ+B,YAAc,SAAWhE,EAAWuD,EAAW7E,GAI/CuF,QAAQC,OAAO,cACX,yBAGCC,UAAU,iBAAkB,WACzB,OACIC,SAAU,IACVC,SAAS,EACTC,YAAa,WACbC,OACIC,QAAS,IACTC,SAAU,KACVC,OAAQ,KACRC,SAAU,KACVC,WAAY,KACZC,UAAW,KACXC,cAAe,KACfC,gBAAiB,KACjBC,eAAgB,KAChBC,gBAAiB,KACjBC,SAAU,MAEdC,KAAM,SAAUZ,GA6BZ,QAASa,GAAqBC,EAAKC,EAAOC,GAEtC,GAAIC,GAAW,GAAIvF,MAAKsF,EAAMD,EAAOD,GAAKtD,SAU1C,OARK/B,GAAUoB,oBAAoBoE,EAAUC,EAASC,cAAeD,EAASE,eACrE3F,EAAUkB,sBAAsBsE,EAAUC,EAASC,eAE5C1F,EAAUmB,oBAAoBqE,EAAUC,EAASE,eACzDH,EAAWC,EAASE,aAFpBH,EAAWC,EAASC,eAMrBF,EAGX,QAASI,GAAYJ,GACjBK,EAAeC,OACfvB,EAAMwB,KAAKpC,SAAW,GAAI1B,WAAUuD,GACpCjB,EAAMC,QAAUD,EAAMwB,KAAKpC,SAC3BkC,EAAetE,MAAMyE,GAGzB,QAASA,GAAcR,EAAUS,GAC7B,GAAIT,IAAaS,EAAjB,CAIA,GAAIZ,GAAMrF,EAAUG,OAAOqF,GACvBF,EAAQtF,EAAUa,SAAS2E,GAC3BD,EAAOvF,EAAUU,QAAQ8E,EAE7BA,GAAWJ,EAAqBC,EAAKC,EAAOC,GAC5CK,EAAYJ,GAEZjB,EAAMwB,KAAKlC,kBACXU,EAAMwB,KAAKjC,kBACXS,EAAMwB,KAAKhC,kBAGf,QAASmC,GAAiBC,GACtB,GACIC,GADAC,EAAmBrG,EAAUgB,aAAamF,EAI1CC,GADAC,EACeF,EAAMlF,IAEN,GAAIhB,OAAO8B,SAG9B,IAAIsD,GAAMrF,EAAUG,OAAOiG,GACvBd,EAAQtF,EAAUa,SAASuF,GAC3Bb,EAAOvF,EAAUU,QAAQ0F,GAEzBE,EAAoBlB,EAAqBC,EAAKC,EAAOC,EAEzD,OAAO,IAAItD,WAAUqE,GAGzB,QAASC,GAAUC,EAAed,EAAeC,GAC7CpB,EAAMwB,KAAO,GAAIxC,GAAUiD,EAAed,EAAeC,GACzDpB,EAAMC,QAAUD,EAAMwB,KAAKpC,SAvF/BY,EAAMW,SAAWX,EAAMW,WAAY,CAInC,IAAIO,IACAe,cAAe,KACfd,cAAe,KACfC,YAAa,MAGbE,GACAY,QAAS,KACTlF,MAAO,SAAUmF,GACbb,EAAeY,QAAUlC,EAAMoC,OAAO,aAAc,SAAUC,EAAOX,GAC7DS,GACAA,EAASE,EAAOX,KAGrB,IAEPH,KAAM,WAEF,MADAD,GAAeY,WACR,GAqEflC,GAAMsC,mBAAqB,SAAUxB,GACjC,GAAKA,EAAL,CAEA,GAAIG,GAAWJ,EAAqBb,EAAMwB,KAAKpC,SAASnC,EAAG+C,EAAMwB,KAAKpC,SAASlC,EAAG8C,EAAMwB,KAAKpC,SAASjC,EACtGkE,GAAYJ,KAGhBjB,EAAMuC,qBAAuB,SAAUxB,GACnC,GAAKA,GAAmB,IAAVA,EAAd,CAEA,GAAIE,GACAD,EAAOhB,EAAMwB,KAAKpC,SAASjC,EAC3B2D,EAAMd,EAAMwB,KAAKpC,SAASnC,CAE9BgE,GAAWJ,EAAqBC,EAAKC,EAAOC,GAC5CK,EAAYJ,GAEZjB,EAAMwB,KAAKhC,mBAGfQ,EAAMwC,oBAAsB,SAAUxB,GAClC,GAAKA,GAAiB,IAATA,EAAb,CAEA,GAAID,GAAQf,EAAMwB,KAAKpC,SAASlC,EAC5B4D,EAAMd,EAAMwB,KAAKpC,SAASnC,EAE1BgE,EAAWJ,EAAqBC,EAAKC,EAAOC,EAChDK,GAAYJ,GAEZjB,EAAMwB,KAAKjC,kBACXS,EAAMwB,KAAKhC,mBAGf,WACI0B,EAASC,cAAiBnB,EAAc,UAAKA,EAAME,SAAW,KAC9DgB,EAASE,YAAepB,EAAY,QAAKA,EAAMG,OAAS,KACxDe,EAASe,cAAgBN,EAAiB3B,EAAMC,SAChD+B,EAAUd,EAASe,cAAef,EAASC,cAAeD,EAASE,YAGhDpB,GAAMU,iBAAmB,IAC5CV,GAAMxF,SAAWL,EAAOK,SACxBwF,EAAMvF,UAAYN,EAAOM,UAEzB6G,EAAetE,MAAMyE,WAM1ChG,UAAWuD,UAAW7E,OACzBuF,SAAQC,OAAO,2BAA4B8C,KAAK,iBAAkB,SAASC,GAAiBA,EAAeC,IAAI,WAAW","file":"angular-pure-datepicker.min.js","sourcesContent":["\"use strict\";var Config={isUtc:!1,monthDirection:\"asc\",daysDirection:\"asc\",yearsDirection:\"desc\",daysList:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],monthList:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"]},CommonUtils=function(){var t={isValidNumber:function(t){var e=!isNaN(t),r=isFinite(t);return e&&r},getArrayOfNumbers:function(t,e){for(var r=[],n=t;e>=n;n++)r.push(n);return r},intArraySort:function(t,e){function r(t,e){return e-t}switch(e){default:return t.sort(function(t,e){return t-e});case\"desc\":return t.sort(r)}},getIntArr:function(e){return e||0===e?e?t._getIntArr(e-1).concat(e):[]:void 0}};return t}(),DateUtils=function(t){function e(t,e){var r=new Date(t);return e.call(r)}var r={getDay:function(r){var n=t.isUTC?Date.prototype.getUTCDate:Date.prototype.getDate;return e(r,n)},getDayOfWeek:function(r){var n=t.isUTC?Date.prototype.getUTCDay:Date.prototype.getDay;return e(r,n)},getYear:function(r){var n=t.isUTC?Date.prototype.getUTCFullYear:Date.prototype.getFullYear;return e(r,n)},getMonth:function(r){var n=t.isUTC?Date.prototype.getUTCMonth:Date.prototype.getMonth;return e(r,n)},getDaysInMonth:function(e,r){var n=t.isUTC?Date.prototype.getUTCDate:Date.prototype.getDate;return n.call(new Date(r,e+1,0))},isValidModel:function(t){return!(!t||!t.dt&&0!==t.dt)},isDateUpperStartLimit:function(t,e){return e?t>e:!0},isDateLowerEndLimit:function(t,e){return e?e>t:!0},isDateBetweenLimits:function(t,e,n){return r.isDateUpperStartLimit(t,e)&&r.isDateLowerEndLimit(t,n)}};return r}(Config),LimitsModel=function(t){function e(e,r){function n(e){return s.start.d=t.getDay(e),s.start.m=t.getMonth(e),s.start.y=t.getYear(e),s.start.dt=e,this}function i(e){return s.end.d=t.getDay(e),s.end.m=t.getMonth(e),s.end.y=t.getYear(e),s.end.dt=e,this}function a(){var e=(new Date).getTime();return s.now.d=t.getDay(e),s.now.m=t.getMonth(e),s.now.y=t.getYear(e),s.now.dt=e,this}var s={start:{},end:{},now:{}};return n(e),i(r),a(),s}return e}(DateUtils),DateModel=function(t){function e(e){return this.d=t.getDay(e),this.dow=t.getDayOfWeek(e),this.m=t.getMonth(e),this.y=t.getYear(e),this.dt=e,this.tz=new Date(e).getTimezoneOffset(),this}return e}(DateUtils),YearsUtils=function(t,e,r){var n={getYearsList:function(n,i,a,s){var o=[],u=10,l=s.start.y,d=s.end.y,y=s.now.y,g=t.getYear(a.dt),f=g>y?g:y,c=y>g?g:y;return f+=u-1,c-=u-1,n&&i&&i>n?o=e.getArrayOfNumbers(l,d):n&&i&&n>i?o=e.getArrayOfNumbers(d,l):n&&i&&n===i?o=e.getArrayOfNumbers(l,d):n&&!i?o=e.getArrayOfNumbers(l,f):!n&&i?s.end.y>=s.now.y?o=c-u>d-u?e.getArrayOfNumbers(c,d):e.getArrayOfNumbers(d-(u-1),d):s.end.y>s.now.y&&(o=e.getArrayOfNumbers(d-(u-1),d)):n||i||(o=e.getArrayOfNumbers(c,f)),e.intArraySort(o,r.yearsListDirection)}};return n}(DateUtils,CommonUtils,Config),MonthUtils=function(t,e,r,n){var i={getMonthList:function(e,i,a){var s,o=0,u=11;if(e||i){var l=e?t.start.y===a:!1,d=i?t.end.y===a:!1,y=e?t.start.m:o,g=i?t.end.m:u;s=l&&d?r.getArrayOfNumbers(y,g):l&&!d?r.getArrayOfNumbers(y,u):!l&&d?r.getArrayOfNumbers(o,g):r.getArrayOfNumbers(o,u)}else s=r.getArrayOfNumbers(o,u);return r.intArraySort(s,n.monthListDirection)}};return i}(LimitsModel,DateUtils,CommonUtils,Config),DaysUtils=function(t,e,r,n){var i={getDaysList:function(i,a,s,o){var u,l=1,d=e.getDaysInMonth(o,s);if(i||a){var y=i?t.start.y===s:!1,g=a?t.end.y===s:!1,f=i?t.start.m===o:!1,c=a?t.end.m===o:!1,m=y&&f,D=g&&c,h=i?t.start.d:l,U=a?t.end.d:d;u=m&&D?r.getArrayOfNumbers(h,U):m&&!D?r.getArrayOfNumbers(h,d):!m&&D?r.getArrayOfNumbers(l,U):r.getArrayOfNumbers(l,d)}else u=r.getArrayOfNumbers(l,d);return r.intArraySort(u,n.daysListDirection)}};return i}(LimitsModel,DateUtils,CommonUtils,Config),DataClass=function(t,e,r,n,i,a){function s(t,e,r){var n,i=t.dt>e,s=t.dt===e,o=t.dt>r,u=t.dt===r;return n=new a(i||s||o||u?t.dt:i?i?(new Date).getTime():r:e)}return function(a,o,u){var l={_start:null,_end:null,_limitDates:null},d={selected:{},list:{y:null,m:null,d:null},reloadYearsList:function(){return d.list.y=r.getYearsList(l._start,l._end),this},reloadMonthList:function(){var e=t.getYear(d.selected.dt);return d.list.m=n.getMonthList(l._start,l._end,e),this},reloadDaysList:function(){var e=t.getYear(d.selected.dt),r=t.getMonth(d.selected.dt);return d.list.d=i.getDaysList(l._start,l._end,e,r),this}};a.dt=e.isValidNumber(a.dt)?a.dt:null,o=e.isValidNumber(o)?o:null,u=e.isValidNumber(u)?u:null,d.selected=s(a,o,u);var y=t.getYear(d.selected.dt),g=t.getMonth(d.selected.dt);return l._limitDates=new LimitsModel(o,u),l._start=o,l._end=u,d.list.y=r.getYearsList(o,u,d.selected,l._limitDates),d.list.m=n.getMonthList(o,u,y,l._limitDates),d.list.d=i.getDaysList(o,u,y,g,d.selected,l._limitDates),d}}(DateUtils,CommonUtils,YearsUtils,MonthUtils,DaysUtils,DateModel);\n//# sourceMappingURL=x-date-core.min.js.map\nvar angularView = (function (DateUtils, DataClass, Config) {\n    'use strict';\n\n\n    angular.module('angular-pd', [\n        'angular-pd.templates'\n    ])\n\n        .directive('pureDatepicker', function () {\n            return {\n                restrict: 'E',\n                replace: true,\n                templateUrl: 'apd.html',\n                scope: {\n                    ngModel: '=',\n                    apdStart: '=?',\n                    apdEnd: '=?',\n                    apdDayId: '@?',\n                    apdMonthId: '@?',\n                    apdYearId: '@?',\n                    apdDayClasses: '@?',\n                    apdMonthClasses: '@?',\n                    apdYearClasses: '@?',\n                    apdLocalization: '=?',\n                    apdIsUtc: '=?'\n                },\n                link: function (scope) {\n\n                    scope.apdIsUtc = scope.apdIsUtc || false;\n\n                    //TODO (S.Panfilov) check for cross-browser support\n                    //TODO (S.Panfilov) may be should add tests\n                    var settings = {\n                        initDateModel: null,\n                        startDateTime: null,\n                        endDateTime: null\n                    };\n\n                    var ngModelWatcher = {\n                        handler: null,\n                        start: function (callback) {\n                            ngModelWatcher.handler = scope.$watch('ngModel.dt', function (value, oldValue) {\n                                if (callback) {\n                                    callback(value, oldValue)\n                                }\n\n                            }, true);\n                        },\n                        stop: function () {\n                            ngModelWatcher.handler();\n                            return true;\n                        }\n                    };\n\n\n                    function getLimitSafeDatetime(day, month, year) {\n\n                        var datetime = new Date(year, month, day).getTime();\n\n                        if (!DateUtils.isDateBetweenLimits(datetime, settings.startDateTime, settings.endDateTime)) {\n                            if (!DateUtils.isDateUpperStartLimit(datetime, settings.startDateTime)) {\n                                datetime = settings.startDateTime;\n                            } else if (!DateUtils.isDateLowerEndLimit(datetime, settings.endDateTime)) {\n                                datetime = settings.endDateTime;\n                            }\n                        }\n\n                        return datetime;\n                    }\n\n                    function updateModel(datetime) {\n                        ngModelWatcher.stop();\n                        scope.data.selected = new DateModel(datetime);\n                        scope.ngModel = scope.data.selected;\n                        ngModelWatcher.start(onModelChange);\n                    }\n\n                    function onModelChange(datetime, oldValue) {\n                        if (datetime === oldValue) {\n                            return;\n                        }\n\n                        var day = DateUtils.getDay(datetime);\n                        var month = DateUtils.getMonth(datetime);\n                        var year = DateUtils.getYear(datetime);\n\n                        datetime = getLimitSafeDatetime(day, month, year);\n                        updateModel(datetime);\n\n                        scope.data.reloadYearsList();\n                        scope.data.reloadMonthList();\n                        scope.data.reloadDaysList();\n                    }\n\n                    function getInitDateModel(model) {\n                        var isInitModelValid = DateUtils.isValidModel(model);\n                        var initDatetime;\n\n                        if (isInitModelValid) {\n                            initDatetime = model.dt\n                        } else {\n                            initDatetime = new Date().getTime();\n                        }\n\n                        var day = DateUtils.getDay(initDatetime);\n                        var month = DateUtils.getMonth(initDatetime);\n                        var year = DateUtils.getYear(initDatetime);\n\n                        var limitSafeDatetime = getLimitSafeDatetime(day, month, year);\n\n                        return new DateModel(limitSafeDatetime);\n                    }\n\n                    function _initData(initDateModel, startDateTime, endDateTime) {\n                        scope.data = new DataClass(initDateModel, startDateTime, endDateTime);\n                        scope.ngModel = scope.data.selected;\n                    }\n\n\n                    scope.onDaySelectChanged = function (day) {\n                        if (!day) return;\n\n                        var datetime = getLimitSafeDatetime(scope.data.selected.d, scope.data.selected.m, scope.data.selected.y);\n                        updateModel(datetime);\n                    };\n\n                    scope.onMonthSelectChanged = function (month) {\n                        if (!month && month !== 0) return;\n\n                        var datetime;\n                        var year = scope.data.selected.y;\n                        var day = scope.data.selected.d;\n\n                        datetime = getLimitSafeDatetime(day, month, year);\n                        updateModel(datetime);\n\n                        scope.data.reloadDaysList();\n                    };\n\n                    scope.onYearSelectChanged = function (year) {\n                        if (!year && year !== 0) return;\n\n                        var month = scope.data.selected.m;\n                        var day = scope.data.selected.d;\n\n                        var datetime = getLimitSafeDatetime(day, month, year);\n                        updateModel(datetime);\n\n                        scope.data.reloadMonthList();\n                        scope.data.reloadDaysList();\n                    };\n\n                    (function _init() {\n                        settings.startDateTime = (scope.apdStart) ? +scope.apdStart : null;\n                        settings.endDateTime = (scope.apdEnd) ? +scope.apdEnd : null;\n                        settings.initDateModel = getInitDateModel(scope.ngModel);\n                        _initData(settings.initDateModel, settings.startDateTime, settings.endDateTime);\n\n                        //TODO (S.Panfilov) localization fix\n                        var localization = scope.apdLocalization || null;\n                        scope.daysList = Config.daysList;\n                        scope.monthList = Config.monthList;\n\n                        ngModelWatcher.start(onModelChange);\n                    })();\n\n                }\n            }\n        });\n})(DateUtils, DataClass, Config);\nangular.module(\"angular-pd.templates\", []).run([\"$templateCache\", function($templateCache) {$templateCache.put(\"apd.html\",\"<div class=apd_root><select ng-model=data.selected.d ng-options=\\\"day for day in data.list.d\\\" ng-init=\\\"data.selected.d = data.list.d[0]\\\" ng-change=onDaySelectChanged(data.selected.d) id={{::apdDayId}} class=\\\"apd_elem apd_select_day apd_select {{::apdDayClasses}}\\\"></select><span ng-bind=daysList[data.selected.dow] class=\\\"apd_elem apd_day_of_week\\\"></span><select ng-model=data.selected.m ng-options=\\\"monthList[month] for month in data.list.m\\\" ng-init=\\\"data.selected.m = data.list.m[0]\\\" ng-change=onMonthSelectChanged(data.selected.m) id={{::apdMonthId}} class=\\\"apd_elem apd_select_month apd_select {{::apdMonthClasses}}\\\"></select><select ng-model=data.selected.y ng-options=\\\"year for year in data.list.y\\\" ng-init=\\\"data.selected.y = data.list.y[0]\\\" ng-change=onYearSelectChanged(data.selected.y) id={{::apdYearId}} class=\\\"apd_elem apd_select_year apd_select {{::apdYearClasses}}\\\"></select></div>\");}]);"],"sourceRoot":"/source/"}