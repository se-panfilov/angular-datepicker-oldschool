var xDateCore=function(){"use strict";var t={Config:{isUtc:!1,monthDirection:"asc",daysDirection:"asc",yearsDirection:"desc",defaultYearsCount:50,daysList:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthList:["January","February","March","April","May","June","July","August","September","October","November","December"]},CommonUtils:{isValidNumber:function(t){var e=!isNaN(parseFloat(t)),a=isFinite(t);return e&&a},getArrayOfNumbers:function(t,e){if(!this.isValidNumber(t)||!this.isValidNumber(e))return[];var a=t>e,n=a?t-e+1:e-t+1,i=new Array(n),r=Array.apply(null,i),s=r.map(function(n,i){return a?i+e:i+t});return a?s.reverse():s},intArraySort:function(t,e){function a(t,e){return e-t}var n="desc";switch(e){default:return t.sort(function(t,e){return t-e});case n:return t.sort(a)}}},DataClass:function(){function e(e,a,n){var i,r=e.dt>a,s=e.dt===a,o=e.dt>n,d=e.dt===n;return i=r||s||o||d?new t.DateModel(e.dt):r?r?new t.DateModel((new Date).getTime()):new t.DateModel(n):new t.DateModel(a)}return function(a,n,i){var r={_start:null,_end:null,_limitDates:null},s={selected:{},list:{y:null,m:null,d:null},reloadYearsList:function(){var e=t.DateUtils.getYear(s.selected.dt),a=t.DateUtils.getYear(r._start),n=t.DateUtils.getYear(r._end);return s.list.y=t.YearsUtils.getYearsList(e,a,n,r.x.LimitsModel.now.y),this},reloadMonthList:function(){var e=t.DateUtils.getYear(s.selected.dt),a=t.DateUtils.getMonth(r._start),n=t.DateUtils.getMonth(r._end);return s.list.m=t.MonthUtils.getMonthList(a,n,e,r.x.LimitsModel),this},reloadDaysList:function(){var e=t.DateUtils.getYear(s.selected.dt),a=t.DateUtils.getMonth(s.selected.dt);return s.list.d=t.DaysUtils.getDaysList(r._start,r._end,e,a,r.x.LimitsModel),this}};a.dt=t.CommonUtils.isValidNumber(a.dt)?a.dt:null,n=t.CommonUtils.isValidNumber(n)?n:null,i=t.CommonUtils.isValidNumber(i)?i:null,s.selected=e(a,n,i);var o=t.DateUtils.getYear(s.selected.dt),d=t.DateUtils.getMonth(s.selected.dt);return r.x.LimitsModel=new t.LimitsModel(n,i),r._start=n,r._end=i,s.list.y=t.YearsUtils.getYearsList(o,r.x.LimitsModel.start.y,r.x.LimitsModel.end.y,r.x.LimitsModel.now.y),s.list.m=t.MonthUtils.getMonthList(n,i,o,r.x.LimitsModel),s.list.d=t.DaysUtils.getDaysList(n,i,o,d,r.x.LimitsModel),s}}(),DateModel:function(){return function(e){if(!e||Number.isNaN(+e)||!Number.isFinite(+e))throw"NaN or null";return this.d=t.DateUtils.getDay(+e),this.dow=t.DateUtils.getDayOfWeek(+e),this.m=t.DateUtils.getMonth(+e),this.y=t.DateUtils.getYear(+e),this.dt=+e,this.tz=new Date(+e).getTimezoneOffset(),this}}(),DateUtils:function(){function e(t,e){var a=new Date(+t);return a&&e?e.call(a):null}var a={getDay:function(a){if(!a&&0!==a)return null;var n=t.Config.isUtc?Date.prototype.getUTCDate:Date.prototype.getDate;return e(a,n)},getDayOfWeek:function(a){if(!a&&0!==a)return null;var n=t.Config.isUtc?Date.prototype.getUTCDay:Date.prototype.getDay;return e(a,n)},getYear:function(a){if(!a&&0!==a)return null;var n=t.Config.isUtc?Date.prototype.getUTCFullYear:Date.prototype.getFullYear;return e(a,n)},getMonth:function(a){if(!a&&0!==a)return null;var n=t.Config.isUtc?Date.prototype.getUTCMonth:Date.prototype.getMonth;return e(a,n)},getDaysInMonth:function(e,a){var n=t.Config.isUtc?Date.prototype.getUTCDate:Date.prototype.getDate;return n.call(new Date(+a,+e+1,0))},isValidModel:function(t){return!!t&&(!!t.dt||0===t.dt)&&!Number.isNaN(+t.dt)&&Number.isFinite(+t.dt)},isDateUpperStartLimit:function(t,e){if(!e)return!0;if(!t&&0!==t||Number.isNaN(+t)||Number.isNaN(+e))throw"NaN or null";return+t>+e},isDateLowerEndLimit:function(t,e){if(!e)return!0;if(Number.isNaN(+t)||Number.isNaN(+e))throw"NaN or null";return+e>+t},isDateBetweenLimits:function(t,e,n){return a.isDateUpperStartLimit(t,e)&&a.isDateLowerEndLimit(t,n)}};return a}(),DaysUtils:{getDaysList:function(e,a,n,i,r){var s,o=1,d=t.DateUtils.getDaysInMonth(i,n);if(e||a){var l=e?r.start.y===n:!1,u=a?r.end.y===n:!1,m=e?r.start.m===i:!1,c=a?r.end.m===i:!1,f=l&&m,D=u&&c,g=e?r.start.d:o,y=a?r.end.d:d;s=f&&D?t.CommonUtils.getArrayOfNumbers(g,y):f&&!D?t.CommonUtils.getArrayOfNumbers(g,d):!f&&D?t.CommonUtils.getArrayOfNumbers(o,y):t.CommonUtils.getArrayOfNumbers(o,d)}else s=t.CommonUtils.getArrayOfNumbers(o,d);return t.CommonUtils.intArraySort(s,t.Config.daysDirection)}},LimitsModel:function(){return function(e,a){function n(e){return s.start.d=t.DateUtils.getDay(+e),s.start.m=t.DateUtils.getMonth(+e),s.start.y=t.DateUtils.getYear(+e),s.start.dt=+e,this}function i(e){return s.end.d=t.DateUtils.getDay(+e),s.end.m=t.DateUtils.getMonth(+e),s.end.y=t.DateUtils.getYear(+e),s.end.dt=+e,this}function r(){var e=(new Date).getTime();return s.now.d=t.DateUtils.getDay(e),s.now.m=t.DateUtils.getMonth(e),s.now.y=t.DateUtils.getYear(e),s.now.dt=e,this}var s={start:{},end:{},now:{}};return e&&n(e),a&&i(a),r(),s}}(),MonthUtils:function(){return{getMonthList:function(e,a,n,i){var r,s=0,o=11;if(e||a){var d=e?i.start.y===n:!1,l=a?i.end.y===n:!1,u=e?i.start.m:s,m=a?i.end.m:o;r=d&&l?t.CommonUtils.getArrayOfNumbers(u,m):d&&!l?t.CommonUtils.getArrayOfNumbers(u,o):!d&&l?t.CommonUtils.getArrayOfNumbers(s,m):t.CommonUtils.getArrayOfNumbers(s,o)}else r=t.CommonUtils.getArrayOfNumbers(s,o);return t.CommonUtils.intArraySort(r,t.Config.monthDirection)}}}(),YearsUtils:function(){function e(t,e,a){var n=e>a?e:a;return n+=t-1}function a(t,e,a){var n=a>e?e:a;return n-=t-1}function n(n,i,r,s){var o=t.Config.defaultYearsCount,d=e(o,n,s),l=a(o,n,s),u={isBoth:!(!i||!r),isBothNot:!(i||r),isOnlyStart:!(!i||r),isOnlyEnd:!(i||!r),isStartLower:r>i,isEndLower:i>r,isStartEqualEnd:i===r,isEndUpperNow:r>s,isEndEqualNow:r===s};if(u.isBoth&&u.isStartLower)return{from:i,to:r};if(u.isBoth&&u.isEndLower)return{from:r,to:i};if(u.isBoth&&u.isStartEqualEnd)return{from:i,to:r};if(u.isOnlyStart)return{from:i,to:d};if(u.isOnlyEnd){if(u.isEndUpperNow||u.isEndEqualNow)return l-o>r-o?{from:l,to:r}:{from:r-(o-1),to:r};if(!u.isEndUpperNow)return{from:r-(o-1),to:r}}return u.isBothNot?{from:l,to:d}:void 0}var i={getYearsList:function(e,a,i,r){var s=n(e,a,i,r),o=t.CommonUtils.getArrayOfNumbers(s.from,s.to);return t.CommonUtils.intArraySort(o,t.Config.yearsDirection)}};return i}()};return t}(),angularView=function(t,e,a,n){"use strict";angular.module("angular-pd",["angular-pd.templates"]).directive("pureDatepicker",function(){return{restrict:"E",replace:!0,templateUrl:"apd.html",scope:{ngModel:"=",apdStart:"=?",apdEnd:"=?",apdDayId:"@?",apdMonthId:"@?",apdYearId:"@?",apdDayClasses:"@?",apdMonthClasses:"@?",apdYearClasses:"@?",apdLocalization:"=?",apdIsUtc:"=?"},link:function(i){function r(e,a,n){var i=new Date(n,a,e).getTime();return t.isDateBetweenLimits(i,u.startDateTime,u.endDateTime)||(t.isDateUpperStartLimit(i,u.startDateTime)?t.isDateLowerEndLimit(i,u.endDateTime)||(i=u.endDateTime):i=u.startDateTime),i}function s(t){m.stop(),i.data.selected=new n(t),i.ngModel=i.data.selected,m.start(o)}function o(e,a){if(e!==a){var n=t.getDay(e),o=t.getMonth(e),d=t.getYear(e);e=r(n,o,d),s(e),i.data.reloadYearsList(),i.data.reloadMonthList(),i.data.reloadDaysList()}}function d(e){var a,i=t.isValidModel(e);a=i?e.dt:(new Date).getTime();var s=t.getDay(a),o=t.getMonth(a),d=t.getYear(a),l=r(s,o,d);return new n(l)}function l(t,a,n){i.data=new e(t,a,n),i.ngModel=i.data.selected}i.apdIsUtc=i.apdIsUtc||!1;var u={initDateModel:null,startDateTime:null,endDateTime:null},m={handler:null,start:function(t){m.handler=i.$watch("ngModel.dt",function(e,a){t&&t(e,a)},!0)},stop:function(){return m.handler(),!0}};i.onDaySelectChanged=function(t){if(t){var e=r(i.data.selected.d,i.data.selected.m,i.data.selected.y);s(e)}},i.onMonthSelectChanged=function(t){if(t||0===t){var e,a=i.data.selected.y,n=i.data.selected.d;e=r(n,t,a),s(e),i.data.reloadDaysList()}},i.onYearSelectChanged=function(t){if(t||0===t){var e=i.data.selected.m,a=i.data.selected.d,n=r(a,e,t);s(n),i.data.reloadMonthList(),i.data.reloadDaysList()}},function(){u.startDateTime=i.apdStart?+i.apdStart:null,u.endDateTime=i.apdEnd?+i.apdEnd:null,u.initDateModel=d(i.ngModel),l(u.initDateModel,u.startDateTime,u.endDateTime),i.daysList=i.apdLocalization&&i.apdLocalization.daysList?i.apdLocalization.daysList:a.daysList,i.monthList=i.apdLocalization&&i.apdLocalization.monthList?i.apdLocalization.monthList:a.monthList,m.start(o)}()}}})}(xDateCore.DateUtils,xDateCore.DataClass,xDateCore.Config,xDateCore.DateModel);angular.module("angular-pd.templates",[]).run(["$templateCache",function(t){t.put("apd.html",'<div class=apd_root><select ng-model=data.selected.d ng-options="day for day in data.list.d" ng-init="data.selected.d = data.list.d[0]" ng-change=onDaySelectChanged(data.selected.d) id={{::apdDayId}} class="apd_elem apd_select_day apd_select {{::apdDayClasses}}"></select><span ng-bind=daysList[data.selected.dow] class="apd_elem apd_day_of_week"></span><select ng-model=data.selected.m ng-options="monthList[month] for month in data.list.m" ng-init="data.selected.m = data.list.m[0]" ng-change=onMonthSelectChanged(data.selected.m) id={{::apdMonthId}} class="apd_elem apd_select_month apd_select {{::apdMonthClasses}}"></select><select ng-model=data.selected.y ng-options="year for year in data.list.y" ng-init="data.selected.y = data.list.y[0]" ng-change=onYearSelectChanged(data.selected.y) id={{::apdYearId}} class="apd_elem apd_select_year apd_select {{::apdYearClasses}}"></select></div>')}]);
//# sourceMappingURL=angular-pure-datepicker.min.js.map
