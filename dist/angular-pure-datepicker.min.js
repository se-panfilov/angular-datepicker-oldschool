var xDateCore=function(t,e,r){"use strict";var a={Config:{isUtc:!1,direction:{d:"asc",m:"asc",y:"desc"},defaultYearsCount:30,daysList:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthList:["January","February","March","April","May","June","July","August","September","October","November","December"]},CommonUtils:{isValidNumber:function(t){var e=!isNaN(parseFloat(t)),r=isFinite(t);return e&&r},getArrayOfNumbers:function(t,e){if(!this.isValidNumber(t)||!this.isValidNumber(e))return[];var r=t>e,a=r?t-e+1:e-t+1,s=new Array(a),n=Array.apply(null,s),i=n.map(function(a,s){return r?s+e:s+t});return r?i.reverse():i},intArraySort:function(t,e){function r(t,e){return e-t}var a="desc";switch(e){default:return t.sort(function(t,e){return t-e});case a:return t.sort(r)}}},ListsState:function(){var t={list:{y:null,m:null,d:null},reloadYearsList:function(){t.list.y=a.YearsUtils.getYearsList()},reloadMonthList:function(){t.list.m=a.MonthUtils.getMonthList()},reloadDaysList:function(){t.list.d=a.DaysUtils.getDaysList()}};return t.list.y=a.YearsUtils.getYearsList(),t.list.m=a.MonthUtils.getMonthList(),t.list.d=a.DaysUtils.getDaysList(),t},DateModel:function(){return function(t){if(!t||Number.isNaN(+t)||!Number.isFinite(+t))throw"NaN or null";return this.d=a.DateUtils.getDay(+t),this.dow=a.DateUtils.getDayOfWeek(+t),this.m=a.DateUtils.getMonth(+t),this.y=a.DateUtils.getYear(+t),this.dt=+t,this.tz=new Date(+t).getTimezoneOffset(),this}}(),DateUtils:function(){function t(t,e){var r=new Date(+t);return r&&e?e.call(r):null}var e={getDay:function(e){if(!e&&0!==e)return null;var r=a.Config.isUtc?Date.prototype.getUTCDate:Date.prototype.getDate;return t(e,r)},getDayOfWeek:function(e){if(!e&&0!==e)return null;var r=a.Config.isUtc?Date.prototype.getUTCDay:Date.prototype.getDay;return t(e,r)},getYear:function(e){if(!e&&0!==e)return null;var r=a.Config.isUtc?Date.prototype.getUTCFullYear:Date.prototype.getFullYear;return t(e,r)},getMonth:function(e){if(!e&&0!==e)return null;var r=a.Config.isUtc?Date.prototype.getUTCMonth:Date.prototype.getMonth;return t(e,r)},getDaysInMonth:function(t,e){var r=a.Config.isUtc?Date.prototype.getUTCDate:Date.prototype.getDate;return r.call(new Date(+e,+t+1,0))},isValidModel:function(t){return!!t&&(!!t.dt||0===t.dt)&&!Number.isNaN(+t.dt)&&Number.isFinite(+t.dt)},isDateUpperStartLimit:function(t,e){if(!e)return!0;if(!t&&0!==t||Number.isNaN(+t)||Number.isNaN(+e))throw"NaN or null";return+t>+e},isDateLowerEndLimit:function(t,e){if(!e)return!0;if(Number.isNaN(+t)||Number.isNaN(+e))throw"NaN or null";return+e>+t},isDateBetweenLimits:function(t,r,a){return e.isDateUpperStartLimit(t,r)&&e.isDateLowerEndLimit(t,a)}};return e}(),DaysUtils:{getDaysList:function(){var t,e=1,r=a.DateUtils.getDaysInMonth(a.State.selected.y,a.State.selected.y),s=a.State.start.isExist,n=a.State.end.isExist;if(s||n){var i=s?a.State.start.y===a.State.selected.y:!1,o=n?a.State.end.y===a.State.selected.y:!1,l=s?a.State.start.m===a.State.selected.y:!1,d=n?a.State.end.m===a.State.selected.y:!1,u=i&&l,m=o&&d,c=s?a.State.start.d:e,f=n?a.State.end.d:r;t=u&&m?a.CommonUtils.getArrayOfNumbers(c,f):u&&!m?a.CommonUtils.getArrayOfNumbers(c,r):!u&&m?a.CommonUtils.getArrayOfNumbers(e,f):a.CommonUtils.getArrayOfNumbers(e,r)}else t=a.CommonUtils.getArrayOfNumbers(e,r);return a.CommonUtils.intArraySort(t,a.Config.direction.d)}},State:{selected:{},setSelected:function(t){var e,r=({isDtUpperStart:t>this.start.dt,isDtEqualStart:t===this.start.dt,isDtLowerEnd:t>this.end.dt,isDtEqualEnd:t===this.end.dt},t>this.start.dt),s=t===this.start.dt,n=t>this.end.dt,i=t===this.end.dt;e=r||s||n||i?t:r?r?+new Date:this.end.dt:this.start,this.selected=new a.DateModel(e)},start:{},setStart:function(t){(t||0===t)&&(this.start=new a.DateModel(t),this.start.isExist=!0)},end:{},setEnd:function(t){(t||0===t)&&(this.end=new a.DateModel(t),this.end.isExist=!0)},setLimits:function(t,e){this.setStart(t),this.setEnd(e)},resetNow:function(){this.now=new a.DateModel(+new Date)},now:null},MonthUtils:{getMonthList:function(){var t,e=0,r=11,s=a.State.start.isExist,n=a.State.end.isExist;if(s||n){var i=s?a.State.start.y===a.State.selected.y:!1,o=n?a.State.end.y===a.State.selected.y:!1,l=s?a.State.start.m:e,d=n?a.State.end.m:r;t=i&&o?a.CommonUtils.getArrayOfNumbers(l,d):i&&!o?a.CommonUtils.getArrayOfNumbers(l,r):!i&&o?a.CommonUtils.getArrayOfNumbers(e,d):a.CommonUtils.getArrayOfNumbers(e,r)}else t=a.CommonUtils.getArrayOfNumbers(e,r);return a.CommonUtils.intArraySort(t,a.Config.direction.m)}},YearsUtils:function(){function t(t,e,r){var a=e>r?e:r;return a+=t-1}function e(t,e,r){var a=r>e?e:r;return a-=t-1}function r(r,s,n,i){var o=a.Config.defaultYearsCount,l=t(o,r,i),d=e(o,r,i),u={isBoth:!(!s||!n),isBothNot:!(s||n),isOnlyStart:!(!s||n),isOnlyEnd:!(s||!n),isStartLower:n>s,isEndLower:s>n,isStartEqualEnd:s===n,isEndUpperNow:n>i,isEndEqualNow:n===i};if(u.isBoth&&u.isStartLower)return{from:s,to:n};if(u.isBoth&&u.isEndLower)return{from:n,to:s};if(u.isBoth&&u.isStartEqualEnd)return{from:s,to:n};if(u.isOnlyStart)return{from:s,to:l};if(u.isOnlyEnd){if(u.isEndUpperNow||u.isEndEqualNow)return d-o>n-o?{from:d,to:n}:{from:n-(o-1),to:n};if(!u.isEndUpperNow)return{from:n-(o-1),to:n}}return u.isBothNot?{from:d,to:l}:void 0}var s={getYearsList:function(){var t=r(a.State.selected.y,a.State.start.y,a.State.end.y,a.State.now.y),e=a.CommonUtils.getArrayOfNumbers(t.from,t.to);return a.CommonUtils.intArraySort(e,a.Config.direction.y)}};return s}()};return a.State.resetNow(),a.State.setLimits(e,r),a.State.setSelected(t),a};angular.module("angular-pd",["angular-pd.templates"]).directive("pureDatepicker",function(){return{restrict:"E",replace:!0,templateUrl:"apd.html",scope:{ngModel:"=",apdStart:"=?",apdEnd:"=?",apdLocalization:"=?",apdIsUtc:"=?"},link:function(t){function e(t){return JSON.parse(JSON.stringify(t))}function r(t){return t&&t.dt?e(t.dt):null}function a(){var a=r(t.ngModel)||+new Date,n=r(t.apdStart),i=r(t.apdEnd);s=new xDateCore(a,n,i),t.lists={d:s.ListsState.list.day,m:s.ListsState.list.month,y:s.ListsState.list.year},t.ngModel=e(s.State.selected)}t.apdIsUtc=t.apdIsUtc||!1;var s;!function(){a()}()}}}),angular.module("angular-pd.templates",[]).run(["$templateCache",function(t){t.put("apd.html",'<div class=apd_root><select ng-model=lists.d ng-options="day for day in data.list.d" ng-init="data.selected.d = data.list.d[0]" class="apd_elem apd_select_day apd_select"></select><span ng-bind=daysList[lists.dow] class="apd_elem apd_day_of_week"></span><select ng-model=lists.m ng-options="monthList[month] for month in data.list.m" ng-init="data.selected.m = data.list.m[0]" class="apd_elem apd_select_month apd_select"></select><select ng-model=lists.y ng-options="year for year in data.list.y" ng-init="data.selected.y = data.list.y[0]" class="apd_elem apd_select_year apd_select"></select></div>')}]);
//# sourceMappingURL=angular-pure-datepicker.min.js.map
